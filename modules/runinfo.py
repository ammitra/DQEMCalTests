import sys


def GetFitRange(energy, atten):
    fitmin = 2850.0
    fitmax = 3600.0
    fitranges = {
        # (energy, atten): (min, max, fitmin, fitmax)
        (8,  0): (1000.0, 6000.0, fitmin, fitmax),
        (4,  0): (0., 3500.0, 1350.0, 1850.0),
        (12, 0): (2000.0, 7000.0, 4500, 5200.),
        (16, 0): (4000.0, 8000.0, 6000.0, 7200.0),
        (30, 0): (6000.0, 14000.0, fitmin * 30.0 / 8.0, fitmax * 30.0 / 8.0),
        (2,  0): (0.0, 2000.0, fitmin/4.0, fitmax/4.0),
        (3,  0): (0.0, 800.0, fitmin / 4.0, fitmax / 4.0),
        (30, 0): (2000.0, 5000.0, 3300.0, 4300.0),

        (2, 1): (0.0, 600.0, 170.0, 300.0),
        (3, 1): (0.0, 800.0, 290.0, 430.0),
        (4, 1): (0.0, 1000.0, 400.0, 560.0),
        (8, 1): (0.0, 1500.0, 850.0, 1120.0),
        (12, 1): (600.0, 2200.0, 1300.0, 1650.0),
        (20, 1): (1000.0, 3800.0, 2300.0, 2800.0),
        (30, 1): (2000.0, 5000.0, 3300.0, 3700.0)
    }
    try:
        return fitranges[(energy, atten)]
    except KeyError:
        print(
            f"Energy {energy} and attenuation {atten} not found in fitranges")
        sys.exit(1)


runinfo = {
    # run: (energy x 8 GeV), with attenuation ? with neutral density filter ?)
    # without attenuation, without filter
    369: (1.0, 0, 0),
    370: (0.5, 0, 0),
    371: (1.5, 0, 0),
    372: (2.0, 0, 0),
    373: (30.0 / 8.0, 0, 0),
    374: (0.25, 0, 0),
    375: (1.0, 0, 0),
    376: (1.0, 0, 0),
    377: (1.0, 0, 0),
    378: (1.0, 0, 0),
    379: (1.0, 0, 0),
    # added attenuation
    493: (0.5, 1, 0),
    494: (0.5, 1, 0),
    495: (1.0, 1, 0),
    496: (1.0, 1, 0),
    500: (1.0, 1, 0),
    501: (1.0, 1, 0),
    502: (1.0, 1, 0),
    503: (1.0, 1, 0),
    504: (1.0, 1, 0),
    505: (1.0, 1, 0),
    506: (1.0, 1, 0),
    507: (1.0, 1, 0),
    509: (1.0, 1, 0),
    513: (1.0, 1, 0),
    510: (1.0, 1, 0),
    511: (1.0, 1, 0),
    512: (1.0, 1, 0),
    513: (1.0, 1, 0),
    514: (3.0/8.0, 1, 0),
    515: (3.0/8.0, 1, 0),
    516: (30.0/8.0, 1, 0),
    517: (30.0/8.0, 1, 0),
    529: (0.25, 1, 0),
    530: (0.25, 1, 0),
    531: (0.25, 1, 0),
    532: (1.5, 1, 0),
    533: (1.5, 1, 0),
    534: (2.5, 1, 0),
    535: (2.5, 1, 0),
    537: (2.5, 1, 0),
    538: (2.5, 1, 0),
    540: (30.0/8.0, 1, 0),
    541: (30.0/8.0, 1, 0),
    542: (30.0/8.0, 1, 0),
    543: (30.0/8.0, 1, 0),
    # 544: (30.0/8.0, 1, 0),
    # take out attenuation, add filter
    563: (0.25, 0, 1),
    564: (0.25, 0, 1),
    565: (0.25, 0, 1),
    566: (0.25, 0, 1),
    567: (0.25, 0, 1),
    568: (0.5, 0, 1),
    569: (0.5, 0, 1),
    570: (0.5, 0, 1),
    571: (0.5, 0, 1),
    572: (0.5, 0, 1),
    573: (0.5, 0, 1),
    574: (0.5, 0, 1),
    575: (0.5, 0, 1),
    576: (0.5, 0, 1),
    577: (0.5, 0, 1),
    578: (0.5, 0, 1),
    579: (0.5, 0, 1),
    581: (0.5, 0, 1),
    582: (0.5, 0, 1),
    583: (0.5, 0, 1),
    584: (0.5, 0, 1),
    585: (1.0, 0, 1),
    586: (1.0, 0, 1),
    587: (1.0, 0, 1),
    588: (1.0, 0, 1),
    589: (1.0, 0, 1),
    590: (2.0, 0, 1),
    591: (2.0, 0, 1),
    592: (2.0, 0, 1),
    593: (2.0, 0, 1),
    594: (2.0, 0, 1),
    595: (2.5, 0, 1),
    596: (2.5, 0, 1),
    597: (2.5, 0, 1),
    598: (2.5, 0, 1),
    599: (2.5, 0, 1),
    600: (2.5, 0, 1),
    601: (2.5, 0, 1),
    602: (2.5, 0, 1),
    604: (2.75, 0, 1),
    605: (2.75, 0, 1),
    607: (2.75, 0, 1),
    609: (2.75, 0, 1),
    610: (2.75, 0, 1),
    611: (2.75, 0, 1),
    612: (2.75, 0, 1),

}

for run in range(375, 492):
    runinfo[run] = (1.0, 0, 0)
